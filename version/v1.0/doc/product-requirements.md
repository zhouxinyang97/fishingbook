# Fishing Book - 产品需求文档 (PRD)

## 1. 产品愿景 (Product Vision)

**“Fishing Book”** 是一款专为开发者设计的隐蔽式桌面阅读工具。它的核心理念是让用户在进行代码编写、调试或等待编译的间隙，能够以极低的心理负担和极高的隐蔽性阅读小说或文本资料。

通过将阅读内容伪装成代码注释、日志输出，并利用透明度调节与 IDE 完美融合，“Fishing Book” 旨在解决上班摸鱼时“怕被发现”的痛点，提供一种“像写代码一样读书”的极致体验。

## 2. 用户故事 (User Stories)

| 角色 | 场景 | 需求 | 目的 |
| :--- | :--- | :--- | :--- |
| **初级摸鱼者** | 在开放式工区，背后经常有人走动 | 我希望能调整阅读窗口的透明度和字体颜色 | 让文字看起来像屏幕上的水印或 IDE 的一部分，不引人注目。 |
| **资深开发者** | 正在 Debug 或等待 CI/CD 流程 | 我希望小说内容能自动格式化为代码注释（如 `//` 开头）或 Log 输出 | 即使有人盯着我的屏幕，也以为我在看日志或文档。 |
| **警惕性高的员工** | 老板突然出现在身后 | 我需要一个全局快捷键（老板键） | 瞬间隐藏所有阅读窗口，恢复纯工作状态。 |
| **小说爱好者** | 电脑里有很多 TXT/EPUB 格式的小说 | 我希望直接拖拽文件就能打开阅读 | 省去繁琐的导入步骤，快速开始阅读。 |
| **追更党** | 每天需要切换不同的工作设备 | 我希望阅读进度能云端同步 | 回家后或换台电脑能接着上次的进度看。 |

## 3. 迭代计划 (Iteration Plan)

### MVP: 基础隐蔽阅读 (Basic Stealth Reading)
*目标：验证核心的“透明阅读”体验，满足最基本的本地阅读需求。*
- **核心功能**：
    - 支持加载本地 `.txt` 文件。
    - 基础文本渲染（字体、大小）。
    - 窗口透明度调节（0-100%）。
    - 窗口置顶/取消置顶。
    - 简单的翻页控制（键盘方向键/鼠标滚轮）。

### v1.0: 伪装与安全 (Camouflage & Safety)
*目标：增强隐蔽性，引入“伪装模式”和“老板键”，打造安全感。*
- **核心功能**：
    - **伪装模式 (False Code Mode)**：
        - 注释模式：每行文本前自动添加 `//`, `#`, `--` 等注释符号。
        - 日志模式：模拟 Log 输出格式（如 `[INFO] 2023-10-27 10:00:00 ...`）。
        - 变量模式：将文字伪装成变量定义。
    - **老板键 (Boss Key)**：全局快捷键一键隐藏/呼出应用。
    - **书签功能**：自动记录上次阅读位置。
    - 支持 `.epub` 格式解析。

### v1.1: 在线与同步 (Online & Sync)
*目标：扩展内容来源，提供跨设备连续体验。*
- **核心功能**：
    - 在线书源插件支持（通过爬虫或 API 获取网络小说）。
    - 云端同步（通过 WebDAV 或专属服务同步阅读进度、书架）。
    - 更多伪装主题（如 VS Code 默认深色主题、IntelliJ Light 主题配色）。

## 4. 功能需求 (Functional Requirements)

### 4.1 阅读器核心
- **文件加载**：支持拖拽打开 `.txt` (UTF-8/GBK 自动识别), `.epub` 文件。
- **文本渲染**：
    - 支持自定义字体（推荐等宽字体以模拟代码）。
    - 支持行间距、字间距调整。
    - 支持文本颜色自定义（RGB/Hex）。
- **翻页与滚动**：
    - 平滑滚动模式（像看 Log 一样）。
    - 翻页模式（点击或快捷键）。
    - 自动滚动（可选速度）。

### 4.2 隐蔽性控制
- **窗口样式**：
    - 无边框窗口。
    - 背景颜色与透明度独立调节（支持完全透明背景）。
    - 鼠标穿透模式（开启后鼠标点击穿过阅读窗口，操作下方的 IDE）。
- **伪装渲染**：
    - 预设 IDE 主题配色（Darcula, Monokai, One Dark 等）。
    - 关键字高亮伪装（将小说中的人名、动词伪装成代码高亮颜色）。

### 4.3 交互与快捷键
- **全局快捷键**：
    - `Alt + H` (默认): 快速隐藏/显示（老板键）。
    - `Alt + Up/Down`: 调整透明度。
    - `Alt + Left/Right`: 快速翻页。
- **托盘图标**：
    - 必须支持伪装托盘图标（如伪装成系统服务图标或 IDE 图标）。

## 5. 非功能需求 (Non-functional Requirements)

### 5.1 性能 (Performance)
- **内存占用**：极低内存占用（< 100MB），确保不影响主 IDE (IntelliJ/VS Code) 的运行。
- **启动速度**：冷启动时间 < 1秒，老板键响应时间 < 100ms。
- **CPU 占用**：静止状态下 CPU 占用率接近 0%。

### 5.2 隐蔽性 (Stealthiness)
- 任务栏不显示窗口预览（可选）。
- 进程名称伪装（如 `svchost_helper.exe` 或 `ide_plugin_service.exe`）。

### 5.3 兼容性 (Compatibility)
- 支持 Windows 10/11, macOS, Linux。
- 能够稳定覆盖在主流 IDE (VS Code, IntelliJ IDEA, Eclipse, Visual Studio) 之上.
