# Fishing Book v2.1 User Stories (用户故事)

## 1. 核心故事 (Core Stories)

### 1.1 添加书籍 (Adding Books)
- **用户**: 作为囤书党或资深开发者。
- **场景**: 刚下载了一本新的 PDF/TXT 技术书，或想整理常看的小说。
- **需求**:
  - 我希望能通过点击“+”号或拖拽文件到书库区域，将本地文件添加到“书库”。
  - 我希望支持批量导入，不用一本一本加。
  - 我希望系统能自动识别文件编码（UTF-8/GBK），避免手动选择。
- **验收标准**:
  - 书库列表中立即显示新添加的书籍名称。
  - 文件路径正确保存，点击可打开。
  - 重复添加同一文件路径时提示或自动去重。

### 1.2 查看书库 (Viewing Library)
- **用户**: 所有用户。
- **场景**: 打开 Fishing Book 准备开始摸鱼，或看完一章想换本书。
- **需求**:
  - 我希望能看到一个简洁的书籍列表（不带封面，纯文本列表）。
  - 我希望能看到每本书的阅读进度（百分比或页码）。
  - 我希望列表项的样式像 IDE 的文件树（File Tree），书名像文件名，进度像文件属性。
- **验收标准**:
  - 列表展示书名（支持截断或伪装显示）。
  - 列表展示进度（如 `15%` 或 `123/456`）。
  - 列表背景色、字体色跟随当前主题（如 Dark Mode）。

### 1.3 打开书籍 (Opening Books)
- **用户**: 所有用户。
- **场景**: 在书库列表中看到想看的书。
- **需求**:
  - 我希望能双击或回车打开书籍，并自动跳转到上次阅读的位置。
  - 我希望能右键菜单管理书籍（移除、重命名伪装）。
- **验收标准**:
  - 点击列表项后，阅读区域加载该书内容。
  - 进度准确恢复。
  - 右键菜单包含“从书库移除”（不删除本地文件）。

### 1.4 进度同步 (Progress Update)
- **用户**: 所有用户。
- **场景**: 阅读过程中翻页或滚动。
- **需求**:
  - 我希望阅读进度能实时或定期保存到书库记录中。
  - 当我关闭书籍或切换书籍时，书库列表中的进度数据应更新。
- **验收标准**:
  - 阅读 5 分钟后，书库列表显示的进度应变为当前进度。
  - 重启软件后，进度不丢失。

## 2. 边缘情况 (Edge Cases)
- **文件丢失**: 如果本地文件被移动或删除，书库列表项应显示失效状态（如灰色或 strikethrough），点击提示“文件不存在”。
- **超长书名**: 书名过长时，中间或末尾省略，鼠标悬停显示全名。
- **空书库**: 首次使用或清空书库后，显示“拖拽文件至此添加”的引导提示（Placeholder）。
